{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/alvar/Documents/a_Web_Development_Projects/FINAL_COPIES_OF_PROJECTS/lendit/lendit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from'react-redux';import{createStructuredSelector}from\"reselect\";import{currentMemberId}from\"../../redux/site-member/site-member.selectors\";import{selectModels}from\"../../redux/drop-downs/drop-down.selectors\";import{seenAddModel}from\"../../redux/modal/modal.selectors\";import{toggleAddModel as _toggleAddModel,toggleAddUnit as _toggleAddUnit}from\"../../redux/modal/modal.actions\";import{requestAssetDropDownOptions,requestModelDropDownOptions}from'../../redux/drop-downs/drop-down.actions';import{useAlert}from'react-alert';import{httpCreateNewAsset}from\"../../services/api\";import AddModel from'./add-model.modal';import CustomDropDown from'../custom-drop-down/custom-drop-down.component';import{ModalMain,ModalContent,CloseButton,Header,Article,FieldSet,Input,AddModelButton,Submit}from\"./modal.styles\";var AddUnit=function AddUnit(_ref){var toggleAddUnit=_ref.toggleAddUnit,toggleAddModel=_ref.toggleAddModel,seenAddModel=_ref.seenAddModel,getAssetOptions=_ref.getAssetOptions,getModelOptions=_ref.getModelOptions,models=_ref.models,memberId=_ref.memberId;var alert=useAlert();useEffect(function(){getModelOptions(memberId);},[getModelOptions,memberId]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),assetID=_useState2[0],setAssetID=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),assetName=_useState4[0],setAssetName=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),assetModel=_useState6[0],setAssetModel=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),assetSerial=_useState8[0],setAssetSerial=_useState8[1];var onAssetidChange=function onAssetidChange(event){setAssetID(event.target.value);};var onAssetNameChange=function onAssetNameChange(event){setAssetName(event.target.value);};var onAssetModelChange=function onAssetModelChange(event){setAssetModel(event.target.value);};var onAssetSerialChange=function onAssetSerialChange(event){setAssetSerial(event.target.value);};var inputReset=function inputReset(){assetID=null;assetName=null;assetSerial=null;document.getElementById('asset-id').value='';document.getElementById('asset-name').value='';document.getElementById('asset-serial').value='';document.getElementById('asset-model').value='Select A Model';document.getElementById('asset-id').focus();};var submitAsset=function submitAsset(event){if(assetID&&assetName&&assetSerial&&assetModel.length&&assetModel!=='Select a model'){httpCreateNewAsset(assetID,assetName,assetModel,assetSerial,memberId);alert.show(\"\".concat(assetID,\" submitted\"),{type:'success',position:'top center'});inputReset();}else{alert.show('Please ensure that all fields are filled out and model is selected.',{type:'error',position:'top center'});}};return/*#__PURE__*/_jsxs(ModalMain,{children:[/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(CloseButton,{onClick:function onClick(){toggleAddUnit();getAssetOptions(memberId);},children:\"\\xD7\"}),/*#__PURE__*/_jsx(Header,{children:\"Add Asset\"}),/*#__PURE__*/_jsx(Article,{children:/*#__PURE__*/_jsxs(\"div\",{action:\"sign-up_submit\",method:\"get\",acceptCharset:\"utf-8\",children:[/*#__PURE__*/_jsxs(FieldSet,{id:\"sign_up\",children:[/*#__PURE__*/_jsx(Input,{onChange:onAssetidChange,placeholder:\"Asset ID (Required)\",type:\"text\",name:\"asset-id\",id:\"asset-id\"}),/*#__PURE__*/_jsx(Input,{onChange:onAssetNameChange,placeholder:\"Asset Name (Required)\",type:\"text\",name:\"asset-name\",id:\"asset-name\"}),/*#__PURE__*/_jsx(CustomDropDown,{isModelSelection:true,onChange:onAssetModelChange,defaultOption:\"Model (Required)\",name:\"asset-model\",id:\"asset-model\",optionList:models}),/*#__PURE__*/_jsx(AddModelButton,{onClick:toggleAddModel,children:\"Add New Model\"}),/*#__PURE__*/_jsx(Input,{onChange:onAssetSerialChange,placeholder:\"Serial Number (Required)\",type:\"text\",name:\"asset-serial\",id:\"asset-serial\"})]}),/*#__PURE__*/_jsx(Submit,{type:\"Submit\",defaultValue:\"Submit\",onClick:function onClick(){return submitAsset();}})]})})]}),seenAddModel?/*#__PURE__*/_jsx(AddModel,{}):null]});};var mapStateToProps=createStructuredSelector({memberId:currentMemberId,models:selectModels,seenAddModel:seenAddModel});var mapDispatchToProps=function mapDispatchToProps(dispatch){return{toggleAddUnit:function toggleAddUnit(){dispatch(_toggleAddUnit());},toggleAddModel:function toggleAddModel(){dispatch(_toggleAddModel());},getAssetOptions:function getAssetOptions(memberId){dispatch(requestAssetDropDownOptions(memberId));},getModelOptions:function getModelOptions(memberId){dispatch(requestModelDropDownOptions(memberId));}};};export default connect(mapStateToProps,mapDispatchToProps)(AddUnit);","map":{"version":3,"sources":["C:/Users/alvar/Documents/a_Web_Development_Projects/FINAL_COPIES_OF_PROJECTS/lendit/lendit/src/components/modals/add-asset.modal.jsx"],"names":["React","useState","useEffect","connect","createStructuredSelector","currentMemberId","selectModels","seenAddModel","toggleAddModel","toggleAddUnit","requestAssetDropDownOptions","requestModelDropDownOptions","useAlert","httpCreateNewAsset","AddModel","CustomDropDown","ModalMain","ModalContent","CloseButton","Header","Article","FieldSet","Input","AddModelButton","Submit","AddUnit","getAssetOptions","getModelOptions","models","memberId","alert","assetID","setAssetID","assetName","setAssetName","assetModel","setAssetModel","assetSerial","setAssetSerial","onAssetidChange","event","target","value","onAssetNameChange","onAssetModelChange","onAssetSerialChange","inputReset","document","getElementById","focus","submitAsset","length","show","type","position","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"ySAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAASC,wBAAT,KAAyC,UAAzC,CAEA,OAASC,eAAT,KAAgC,+CAAhC,CACA,OAASC,YAAT,KAA6B,4CAA7B,CACA,OAASC,YAAT,KAA6B,mCAA7B,CACA,OAASC,cAAc,GAAdA,CAAAA,eAAT,CAAyBC,aAAa,GAAbA,CAAAA,cAAzB,KAA8C,iCAA9C,CACA,OAASC,2BAAT,CAAsCC,2BAAtC,KAAyE,0CAAzE,CAEA,OAASC,QAAT,KAAyB,aAAzB,CAEA,OAASC,kBAAT,KAAmC,oBAAnC,CAEA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,CACA,MAAOC,CAAAA,cAAP,KAA2B,gDAA3B,CAEA,OAASC,SAAT,CAAoBC,YAApB,CAAkCC,WAAlC,CAA+CC,MAA/C,CAAuDC,OAAvD,CACQC,QADR,CACkBC,KADlB,CACyBC,cADzB,CACyCC,MADzC,KACsD,gBADtD,CAGA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAwG,IAArGhB,CAAAA,aAAqG,MAArGA,aAAqG,CAAtFD,cAAsF,MAAtFA,cAAsF,CAAtED,YAAsE,MAAtEA,YAAsE,CAAxDmB,eAAwD,MAAxDA,eAAwD,CAAvCC,eAAuC,MAAvCA,eAAuC,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,QAAc,MAAdA,QAAc,CAEtH,GAAMC,CAAAA,KAAK,CAAGlB,QAAQ,EAAtB,CAEAV,SAAS,CAAC,UAAM,CACdyB,eAAe,CAACE,QAAD,CAAf,CACD,CAFQ,CAEN,CAACF,eAAD,CAAkBE,QAAlB,CAFM,CAAT,CAJsH,cAQlF5B,QAAQ,CAAC,EAAD,CAR0E,wCAQjH8B,OARiH,eAQpGC,UARoG,8BASlF/B,QAAQ,CAAC,EAAD,CAT0E,yCASjHgC,SATiH,eASpGC,YAToG,8BAUlFjC,QAAQ,CAAC,EAAD,CAV0E,yCAUjHkC,UAViH,eAUpGC,aAVoG,8BAWlFnC,QAAQ,CAAC,EAAD,CAX0E,yCAWjHoC,WAXiH,eAWpGC,cAXoG,eAatH,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjCR,UAAU,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAV,CACD,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACH,KAAD,CAAW,CACnCN,YAAY,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CACD,CAFD,CAIA,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACJ,KAAD,CAAW,CACpCJ,aAAa,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb,CACD,CAFD,CAID,GAAMG,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACL,KAAD,CAAW,CACpCF,cAAc,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd,CACD,CAFF,CAIC,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBf,OAAO,CAAG,IAAV,CACAE,SAAS,CAAG,IAAZ,CACAI,WAAW,CAAG,IAAd,CACAU,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCN,KAApC,CAA4C,EAA5C,CACAK,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCN,KAAtC,CAA8C,EAA9C,CACAK,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCN,KAAxC,CAAgD,EAAhD,CACAK,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCN,KAAvC,CAA+C,gBAA/C,CACAK,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,GACD,CATD,CAWA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACV,KAAD,CAAW,CAE7B,GAAIT,OAAO,EAAIE,SAAX,EAAwBI,WAAxB,EAAuCF,UAAU,CAACgB,MAAlD,EAA4DhB,UAAU,GAAK,gBAA/E,CAAgG,CAC9FtB,kBAAkB,CAACkB,OAAD,CAAUE,SAAV,CAAqBE,UAArB,CAAiCE,WAAjC,CAA8CR,QAA9C,CAAlB,CACAC,KAAK,CAACsB,IAAN,WAAcrB,OAAd,eAAmC,CAACsB,IAAI,CAAE,SAAP,CAAkBC,QAAQ,CAAC,YAA3B,CAAnC,EACAR,UAAU,GACX,CAJD,IAIO,CACLhB,KAAK,CAACsB,IAAN,CAAW,qEAAX,CAAkF,CAACC,IAAI,CAAE,OAAP,CAAgBC,QAAQ,CAAC,YAAzB,CAAlF,EACD,CACF,CATD,CAWA,mBACC,MAAC,SAAD,yBACG,MAAC,YAAD,yBAEE,KAAC,WAAD,EAAa,OAAO,CAAE,kBAAM,CAAC7C,aAAa,GAAIiB,eAAe,CAACG,QAAD,CAAf,CAA2B,CAAzE,kBAFF,cAGE,KAAC,MAAD,wBAHF,cAIE,KAAC,OAAD,wBACE,aAAK,MAAM,CAAC,gBAAZ,CAA6B,MAAM,CAAC,KAApC,CAA0C,aAAa,CAAC,OAAxD,wBACE,MAAC,QAAD,EAAU,EAAE,CAAC,SAAb,wBACI,KAAC,KAAD,EAAO,QAAQ,CAAEU,eAAjB,CAAoC,WAAW,CAAC,qBAAhD,CAAsE,IAAI,CAAC,MAA3E,CAAkF,IAAI,CAAC,UAAvF,CAAmG,EAAE,CAAC,UAAtG,EADJ,cAEI,KAAC,KAAD,EAAO,QAAQ,CAAEI,iBAAjB,CAAoC,WAAW,CAAC,uBAAhD,CAAwE,IAAI,CAAC,MAA7E,CAAoF,IAAI,CAAC,YAAzF,CAAuG,EAAE,CAAC,YAA1G,EAFJ,cAGI,KAAC,cAAD,EAAgB,gBAAgB,KAAhC,CAAiC,QAAQ,CAAEC,kBAA3C,CAA+D,aAAa,CAAC,kBAA7E,CAAgG,IAAI,CAAC,aAArG,CAAoH,EAAE,CAAC,aAAvH,CAAqI,UAAU,CAAEhB,MAAjJ,EAHJ,cAII,KAAC,cAAD,EAAgB,OAAO,CAAEpB,cAAzB,2BAJJ,cAKI,KAAC,KAAD,EAAO,QAAQ,CAAEqC,mBAAjB,CAAsC,WAAW,CAAC,0BAAlD,CAA6E,IAAI,CAAC,MAAlF,CAAyF,IAAI,CAAC,cAA9F,CAA8G,EAAE,CAAC,cAAjH,EALJ,GADF,cAQE,KAAC,MAAD,EAAQ,IAAI,CAAG,QAAf,CAAwB,YAAY,CAAC,QAArC,CAA8C,OAAO,CAAE,yBAAMK,CAAAA,WAAW,EAAjB,EAAvD,EARF,GADF,EAJF,GADH,CAkBI3C,YAAY,cAAG,KAAC,QAAD,IAAH,CAAiB,IAlBjC,GADD,CAsBD,CAzED,CA2EA,GAAMgD,CAAAA,eAAe,CAAGnD,wBAAwB,CAAC,CAC/CyB,QAAQ,CAAExB,eADqC,CAE/CuB,MAAM,CAAEtB,YAFuC,CAG/CC,YAAY,CAAZA,YAH+C,CAAD,CAAhD,CAMA,GAAMiD,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,QAAe,CACtChD,aAAa,CAAK,wBAAM,CAACgD,QAAQ,CAAChD,cAAa,EAAd,CAAR,CAA0B,CADb,CAEtCD,cAAc,CAAI,yBAAM,CAACiD,QAAQ,CAACjD,eAAc,EAAf,CAAR,CAA2B,CAFd,CAGtCkB,eAAe,CAAG,yBAACG,QAAD,CAAc,CAAE4B,QAAQ,CAAC/C,2BAA2B,CAACmB,QAAD,CAA5B,CAAR,CAAgD,CAH5C,CAItCF,eAAe,CAAG,yBAACE,QAAD,CAAc,CAAE4B,QAAQ,CAAC9C,2BAA2B,CAACkB,QAAD,CAA5B,CAAR,CAAgD,CAJ5C,CAAf,EAA3B,CAOA,cAAe1B,CAAAA,OAAO,CAACoD,eAAD,CAAkBC,kBAAlB,CAAP,CAA6C/B,OAA7C,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {connect} from 'react-redux';\r\nimport { createStructuredSelector } from \"reselect\";\r\n\r\nimport { currentMemberId } from \"../../redux/site-member/site-member.selectors\";\r\nimport { selectModels } from \"../../redux/drop-downs/drop-down.selectors\";\r\nimport { seenAddModel } from \"../../redux/modal/modal.selectors\";\r\nimport { toggleAddModel, toggleAddUnit } from \"../../redux/modal/modal.actions\";\r\nimport { requestAssetDropDownOptions, requestModelDropDownOptions } from '../../redux/drop-downs/drop-down.actions';\r\n\r\nimport { useAlert } from 'react-alert';\r\n\r\nimport { httpCreateNewAsset } from \"../../services/api\";\r\n\r\nimport AddModel from './add-model.modal';\r\nimport CustomDropDown from '../custom-drop-down/custom-drop-down.component'\r\n\r\nimport { ModalMain, ModalContent, CloseButton, Header, Article,\r\n        FieldSet, Input, AddModelButton, Submit} from \"./modal.styles\";\r\n\r\nconst AddUnit = ( {toggleAddUnit, toggleAddModel, seenAddModel, getAssetOptions, getModelOptions, models, memberId}) => {\r\n\r\n  const alert = useAlert();\r\n\r\n  useEffect(() => {\r\n    getModelOptions(memberId);\r\n  }, [getModelOptions, memberId]);\r\n\r\n  let [assetID,     setAssetID    ] = useState('');\r\n  let [assetName,   setAssetName  ] = useState('');\r\n  let [assetModel,  setAssetModel ] = useState([]);\r\n  let [assetSerial, setAssetSerial] = useState('');\r\n\r\n  const onAssetidChange = (event) => {\r\n    setAssetID(event.target.value); \r\n  };\r\n\r\n  const onAssetNameChange = (event) => {\r\n    setAssetName(event.target.value);\r\n  };\r\n\r\n  const onAssetModelChange = (event) => {\r\n    setAssetModel(event.target.value);\r\n  };\r\n\r\n const onAssetSerialChange = (event) => {\r\n    setAssetSerial(event.target.value);\r\n  };\r\n\r\n  const inputReset = () => {\r\n    assetID = null;\r\n    assetName = null;\r\n    assetSerial = null;\r\n    document.getElementById('asset-id').value = '';\r\n    document.getElementById('asset-name').value = '';\r\n    document.getElementById('asset-serial').value = '';\r\n    document.getElementById('asset-model').value = 'Select A Model';\r\n    document.getElementById('asset-id').focus();\r\n  };\r\n\r\n  const submitAsset = (event) => {\r\n    \r\n    if (assetID && assetName && assetSerial && assetModel.length && assetModel !== 'Select a model'){\r\n      httpCreateNewAsset(assetID, assetName, assetModel, assetSerial, memberId);\r\n      alert.show(`${assetID} submitted`, {type: 'success', position:'top center'});\r\n      inputReset();\r\n    } else {\r\n      alert.show('Please ensure that all fields are filled out and model is selected.', {type: 'error', position:'top center'});\r\n    }\r\n  };\r\n  \r\n  return (\r\n   <ModalMain>\r\n      <ModalContent>\r\n        {/* Retrieve updated list of assets when modal is closed. */}\r\n        <CloseButton onClick={() => {toggleAddUnit(); getAssetOptions(memberId);}}>&times;</CloseButton>\r\n        <Header>Add Asset</Header>\r\n        <Article>\r\n          <div action=\"sign-up_submit\" method=\"get\" acceptCharset=\"utf-8\">\r\n            <FieldSet id=\"sign_up\">\r\n                <Input onChange={onAssetidChange}   placeholder=\"Asset ID (Required)\" type=\"text\" name=\"asset-id\"  id=\"asset-id\"/>\r\n                <Input onChange={onAssetNameChange} placeholder=\"Asset Name (Required)\" type=\"text\" name=\"asset-name\"  id=\"asset-name\"/>\r\n                <CustomDropDown isModelSelection onChange={onAssetModelChange} defaultOption=\"Model (Required)\" name=\"asset-model\"  id=\"asset-model\" optionList={models}/>\r\n                <AddModelButton onClick={toggleAddModel}>Add New Model</AddModelButton>\r\n                <Input onChange={onAssetSerialChange} placeholder=\"Serial Number (Required)\" type=\"text\" name=\"asset-serial\"  id=\"asset-serial\"/>\r\n            </FieldSet>\r\n            <Submit type = \"Submit\" defaultValue=\"Submit\" onClick={() => submitAsset()} />\r\n          </div>\r\n        </Article>\r\n      </ModalContent>\r\n      {seenAddModel ? <AddModel/> : null}\r\n   </ModalMain>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  memberId: currentMemberId,\r\n  models: selectModels,\r\n  seenAddModel\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    toggleAddUnit   : () => {dispatch(toggleAddUnit())},\r\n    toggleAddModel  : () => {dispatch(toggleAddModel())},\r\n    getAssetOptions : (memberId) => { dispatch(requestAssetDropDownOptions(memberId))},\r\n    getModelOptions : (memberId) => { dispatch(requestModelDropDownOptions(memberId))}\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddUnit);"]},"metadata":{},"sourceType":"module"}