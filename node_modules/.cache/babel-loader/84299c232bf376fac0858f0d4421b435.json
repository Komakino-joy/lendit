{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\bryan.alvarez\\\\Documents\\\\webdev\\\\git\\\\lendit\\\\lendit\\\\src\\\\components\\\\asset-container\\\\asset-container.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { checkInSelectedAssetStart, requestSelectedAssetData, checkOutSelectedAssetStart, quarantineSelectedAssetStart } from \"../../redux/asset/asset.actions\";\nimport { userId } from \"../../redux/user/user.selectors\";\nimport { currentMemberId } from \"../../redux/site-member/site-member.selectors.js\";\nimport { assetId, assetName, assetSerial, assetImage, assetComments, assetStatus, assetModel } from \"../../redux/asset/asset.selectors\";\nimport { useAlert } from \"react-alert\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport { assetTransaction } from \"./asset-container.utils\";\nimport { removeAsset } from \"../../services/api\";\nimport defaultImg from \"../../images/default.svg\";\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport { AssetContainer, AssetInnerContainer, Header, AssetName, AssetSerial, RemoveButton, ImageContainer, AssetImage, AssetStatus, ButtonContainer, Footer, Instructions, ReasonBox } from \"./asset-container.styles.jsx\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\n\nconst Center = ({\n  assetId,\n  assetName,\n  assetSerial,\n  assetImage,\n  assetStatus,\n  checkInSelectedAssetStart,\n  requestSelectedAssetData,\n  checkOutSelectedAssetStart,\n  quarantineSelectedAssetStart,\n  userId,\n  assetComments,\n  ownerId,\n  assetModel\n}) => {\n  _s();\n\n  const alert = useAlert(); // Prevents the user from dragging the asset image.\n\n  const preventDragHandler = event => {\n    event.preventDefault();\n  };\n\n  const onReasonChange = event => {\n    assetComments = event.target.value;\n  }; // const handleCheckout = () => {\n  //   if (assetStatus.slice(0, 9) === \"In Use By\") {\n  //     alert.show(`${assetName} is ${assetStatus}`, { type: \"info\" });\n  //   } else if (!userId) {\n  //     alert.show(`Username is required for checkout`, { type: \"info\" });\n  //     document.getElementById(\"user-list\").focus();\n  //   } else {\n  //     assetTransaction(\n  //       httpCheckOutAsset,\n  //       () => requestSelectedAssetData({assetId, ownerId}),\n  //       assetId,\n  //       userId,\n  //       ownerId,\n  //       assetName,\n  //       assetSerial,\n  //       assetModel\n  //     );\n  //     document.getElementById(\"asset-list\").focus();\n  //   }\n  // };\n\n\n  const handleCheckout = () => {\n    if (assetStatus.slice(0, 9) === \"In Use By\") {\n      alert.show(`${assetName} is ${assetStatus}`, {\n        type: \"info\"\n      });\n    } else if (!userId) {\n      alert.show(`Username is required for checkout`, {\n        type: \"info\"\n      });\n      document.getElementById(\"user-list\").focus();\n    } else {\n      checkOutSelectedAssetStart({\n        assetId,\n        userId,\n        ownerId,\n        assetName,\n        assetSerial,\n        assetModel\n      });\n      document.getElementById(\"asset-list\").focus();\n    }\n  };\n\n  const handleCheckin = () => {\n    if (assetStatus !== \"Available\") {\n      checkInSelectedAssetStart({\n        assetId,\n        userId,\n        ownerId,\n        assetName,\n        assetSerial,\n        assetModel\n      });\n    } else {\n      alert.show(`${assetName} is already checked in.`, {\n        type: \"info\"\n      });\n    }\n  };\n\n  const handleQuarantine = () => {\n    if (assetStatus === \"Quarantine\") {\n      alert.show(`${assetName} is already in quarantine.`, {\n        type: \"info\"\n      });\n    } else if (!assetComments) {\n      alert.show(`Reason is required to check ${assetName} into quarantine.`, {\n        type: \"info\"\n      });\n      document.getElementById(\"text-area\").focus();\n    } else if (!userId) {\n      alert.show(`Username is required for quarantine`, {\n        type: \"info\"\n      });\n      document.getElementById(\"user-list\").focus();\n    } else {\n      quarantineSelectedAssetStart({\n        assetId,\n        userId,\n        ownerId,\n        assetName,\n        assetSerial,\n        assetModel,\n        assetComments\n      });\n      document.getElementById(\"text-area\").value = \"\";\n    }\n  }; // const handleQuarantine = () => {\n  //   if (assetStatus === \"Quarantine\") {\n  //     alert.show(`${assetName} is already in quarantine.`, { type: \"info\" });\n  //   } else if (!assetComments) {\n  //     alert.show(`Reason is required to check ${assetName} into quarantine.`, {\n  //       type: \"info\",\n  //     });\n  //     document.getElementById(\"text-area\").focus();\n  //   } else if (!userId) {\n  //     alert.show(`Username is required for quarantine`, { type: \"info\" });\n  //     document.getElementById(\"user-list\").focus();\n  //   } else {\n  //     assetTransaction(\n  //       httpQuarantineAsset,\n  //       () => requestSelectedAssetData({assetId, ownerId}),\n  //       assetId,\n  //       userId,\n  //       ownerId,\n  //       assetName,\n  //       assetSerial,\n  //       assetModel,\n  //       assetComments\n  //     );\n  //     document.getElementById(\"text-area\").value = \"\";\n  //   }\n  // };\n\n\n  const handleRemoveAsset = () => {\n    confirmAlert({\n      title: \"Confirm Delete\",\n      message: `Are you sure to delete ${assetName.toUpperCase()} ?`,\n      buttons: [{\n        label: \"Yes\",\n        onClick: () => {\n          removeAsset(assetId);\n          alert.show(`${assetName} has been removed.`, {\n            type: \"success\"\n          });\n        }\n      }, {\n        label: \"No\",\n        onClick: () => alert.show(\"Operation Cancelled\")\n      }]\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(AssetContainer, {\n    children: assetId ? /*#__PURE__*/_jsxDEV(AssetInnerContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(AssetName, {\n          children: assetName.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AssetSerial, {\n          children: assetSerial.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ImageContainer, {\n        children: [/*#__PURE__*/_jsxDEV(RemoveButton, {\n          onClick: handleRemoveAsset,\n          children: \" REMOVE ASSET \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AssetImage, {\n          src: assetImage,\n          alt: \"\",\n          onDragStart: preventDragHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AssetStatus, { ...(assetStatus === \"Available\" ? {\n          isAvailable: true\n        } : assetStatus.slice(0, 9) === \"In Use By\" ? {\n          isInUse: true\n        } : {\n          isQurantined: true\n        }),\n        children: assetStatus.toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n        children: [/*#__PURE__*/_jsxDEV(CustomButton, {\n          isCheckIn: true,\n          onClick: handleCheckin,\n          children: \"CHECK IN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CustomButton, {\n          isCheckOut: true,\n          onClick: handleCheckout,\n          children: \" CHECK OUT \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Instructions, {\n          children: \" If there are issues with the asset, please fill out the form below and submit \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ReasonBox, {\n          id: \"text-area\",\n          onChange: onReasonChange,\n          placeholder: assetComments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CustomButton, {\n          isSubmit: true,\n          onClick: handleQuarantine,\n          children: \" SUBMIT \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(AssetInnerContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(AssetName, {\n          children: \"Asset Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AssetSerial, {\n          children: \"Asset Serial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ImageContainer, {\n        children: /*#__PURE__*/_jsxDEV(AssetImage, {\n          src: defaultImg,\n          alt: \"\",\n          onDragStart: preventDragHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AssetStatus, {\n        children: \"Asset Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n        children: [/*#__PURE__*/_jsxDEV(CustomButton, {\n          isCheckIn: true,\n          children: \"CHECK IN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CustomButton, {\n          isCheckOut: true,\n          children: \"CHECK OUT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Instructions, {\n          children: \" If there are issues with the asset, please fill out the form and submit \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ReasonBox, {\n          id: \"text-area\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CustomButton, {\n          isSubmit: true,\n          children: \"SUBMIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Center, \"/tbmWjntTVQXAO42KRyQZrplUA4=\", false, function () {\n  return [useAlert];\n});\n\n_c = Center;\nconst mapStateToProps = createStructuredSelector({\n  ownerId: currentMemberId,\n  userId,\n  assetId,\n  assetName,\n  assetImage,\n  assetStatus,\n  assetSerial,\n  assetComments,\n  assetModel\n});\n\nconst mapDispatchToProps = dispatch => ({\n  checkInSelectedAssetStart: assetData => {\n    dispatch(checkInSelectedAssetStart({ ...assetData\n    }));\n  },\n  checkOutSelectedAssetStart: assetData => {\n    dispatch(checkOutSelectedAssetStart({ ...assetData\n    }));\n  },\n  quarantineSelectedAssetStart: assetData => {\n    dispatch(quarantineSelectedAssetStart({ ...assetData\n    }));\n  },\n  requestSelectedAssetData: assetIdAndOwner => {\n    dispatch(requestSelectedAssetData(assetIdAndOwner));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Center);\n\nvar _c;\n\n$RefreshReg$(_c, \"Center\");","map":{"version":3,"sources":["C:/Users/bryan.alvarez/Documents/webdev/git/lendit/lendit/src/components/asset-container/asset-container.component.jsx"],"names":["React","connect","createStructuredSelector","checkInSelectedAssetStart","requestSelectedAssetData","checkOutSelectedAssetStart","quarantineSelectedAssetStart","userId","currentMemberId","assetId","assetName","assetSerial","assetImage","assetComments","assetStatus","assetModel","useAlert","confirmAlert","assetTransaction","removeAsset","CustomButton","AssetContainer","AssetInnerContainer","Header","AssetName","AssetSerial","RemoveButton","ImageContainer","AssetImage","AssetStatus","ButtonContainer","Footer","Instructions","ReasonBox","Center","ownerId","alert","preventDragHandler","event","preventDefault","onReasonChange","target","value","handleCheckout","slice","show","type","document","getElementById","focus","handleCheckin","handleQuarantine","handleRemoveAsset","title","message","toUpperCase","buttons","label","onClick","isAvailable","isInUse","isQurantined","defaultImg","mapStateToProps","mapDispatchToProps","dispatch","assetData","assetIdAndOwner"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\n\r\nimport { \r\n  checkInSelectedAssetStart, \r\n  requestSelectedAssetData, \r\n  checkOutSelectedAssetStart, \r\n  quarantineSelectedAssetStart \r\n} from \"../../redux/asset/asset.actions\";\r\n\r\nimport { userId } from \"../../redux/user/user.selectors\";\r\nimport { currentMemberId } from \"../../redux/site-member/site-member.selectors.js\";\r\nimport { assetId, assetName, assetSerial, assetImage, assetComments, assetStatus, assetModel } from \"../../redux/asset/asset.selectors\";\r\n\r\nimport { useAlert } from \"react-alert\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\n\r\nimport { assetTransaction } from \"./asset-container.utils\";\r\nimport { removeAsset } from \"../../services/api\";\r\n\r\nimport defaultImg from \"../../images/default.svg\";\r\nimport CustomButton from \"../custom-button/custom-button.component\";\r\n\r\nimport {\r\n  AssetContainer, AssetInnerContainer, Header, AssetName, AssetSerial, RemoveButton,\r\n  ImageContainer, AssetImage, AssetStatus, ButtonContainer, Footer, Instructions, ReasonBox,\r\n} from \"./asset-container.styles.jsx\";\r\n\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\n\r\nconst Center = ({assetId, assetName, assetSerial, assetImage, assetStatus, checkInSelectedAssetStart, requestSelectedAssetData,\r\n  checkOutSelectedAssetStart, quarantineSelectedAssetStart, userId, assetComments, ownerId, assetModel}) => {\r\n\r\n  const alert = useAlert();\r\n\r\n  // Prevents the user from dragging the asset image.\r\n  const preventDragHandler = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const onReasonChange = (event) => {\r\n    assetComments = event.target.value;\r\n  };\r\n\r\n  // const handleCheckout = () => {\r\n\r\n  //   if (assetStatus.slice(0, 9) === \"In Use By\") {\r\n  //     alert.show(`${assetName} is ${assetStatus}`, { type: \"info\" });\r\n  //   } else if (!userId) {\r\n  //     alert.show(`Username is required for checkout`, { type: \"info\" });\r\n  //     document.getElementById(\"user-list\").focus();\r\n  //   } else {\r\n  //     assetTransaction(\r\n  //       httpCheckOutAsset,\r\n  //       () => requestSelectedAssetData({assetId, ownerId}),\r\n  //       assetId,\r\n  //       userId,\r\n  //       ownerId,\r\n  //       assetName,\r\n  //       assetSerial,\r\n  //       assetModel\r\n  //     );\r\n  //     document.getElementById(\"asset-list\").focus();\r\n  //   }\r\n  // };\r\n  const handleCheckout = () => {\r\n\r\n    if (assetStatus.slice(0, 9) === \"In Use By\") {\r\n      alert.show(`${assetName} is ${assetStatus}`, { type: \"info\" });\r\n    } else if (!userId) {\r\n      alert.show(`Username is required for checkout`, { type: \"info\" });\r\n      document.getElementById(\"user-list\").focus();\r\n    } else {\r\n      checkOutSelectedAssetStart({ assetId, userId, ownerId, assetName, assetSerial, assetModel });\r\n      document.getElementById(\"asset-list\").focus();\r\n    }\r\n  };\r\n\r\n  const handleCheckin = () => {\r\n    if (assetStatus !== \"Available\"){\r\n      checkInSelectedAssetStart({ assetId, userId, ownerId, assetName, assetSerial, assetModel });\r\n    }else{\r\n      alert.show(`${assetName} is already checked in.`, { type: \"info\" });\r\n    } \r\n  };\r\n\r\n  const handleQuarantine = () => {\r\n    if (assetStatus === \"Quarantine\") {\r\n      alert.show(`${assetName} is already in quarantine.`, { type: \"info\" });\r\n    } else if (!assetComments) {\r\n      alert.show(`Reason is required to check ${assetName} into quarantine.`, {\r\n        type: \"info\",\r\n      });\r\n      document.getElementById(\"text-area\").focus();\r\n    } else if (!userId) {\r\n      alert.show(`Username is required for quarantine`, { type: \"info\" });\r\n      document.getElementById(\"user-list\").focus();\r\n    } else {\r\n      quarantineSelectedAssetStart({assetId, userId, ownerId, assetName, assetSerial, assetModel, assetComments});\r\n      document.getElementById(\"text-area\").value = \"\";\r\n    }\r\n  };\r\n\r\n\r\n  // const handleQuarantine = () => {\r\n  //   if (assetStatus === \"Quarantine\") {\r\n  //     alert.show(`${assetName} is already in quarantine.`, { type: \"info\" });\r\n  //   } else if (!assetComments) {\r\n  //     alert.show(`Reason is required to check ${assetName} into quarantine.`, {\r\n  //       type: \"info\",\r\n  //     });\r\n  //     document.getElementById(\"text-area\").focus();\r\n  //   } else if (!userId) {\r\n  //     alert.show(`Username is required for quarantine`, { type: \"info\" });\r\n  //     document.getElementById(\"user-list\").focus();\r\n  //   } else {\r\n  //     assetTransaction(\r\n  //       httpQuarantineAsset,\r\n  //       () => requestSelectedAssetData({assetId, ownerId}),\r\n  //       assetId,\r\n  //       userId,\r\n  //       ownerId,\r\n  //       assetName,\r\n  //       assetSerial,\r\n  //       assetModel,\r\n  //       assetComments\r\n  //     );\r\n  //     document.getElementById(\"text-area\").value = \"\";\r\n  //   }\r\n  // };\r\n\r\n  \r\n\r\n  const handleRemoveAsset = () => {\r\n    confirmAlert({\r\n      title: \"Confirm Delete\",\r\n      message: `Are you sure to delete ${assetName.toUpperCase()} ?`,\r\n      buttons: [\r\n        {\r\n          label: \"Yes\",\r\n          onClick: () => {\r\n            removeAsset(assetId);\r\n            alert.show(`${assetName} has been removed.`, { type: \"success\" });\r\n          },\r\n        },\r\n        {\r\n          label: \"No\",\r\n          onClick: () => alert.show(\"Operation Cancelled\"),\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <AssetContainer>\r\n      \r\n      {assetId ? (\r\n        <AssetInnerContainer>\r\n          \r\n          <Header>\r\n            <AssetName>{assetName.toUpperCase()}</AssetName>\r\n            <AssetSerial>{assetSerial.toUpperCase()}</AssetSerial>\r\n          </Header>\r\n\r\n          <ImageContainer>\r\n            <RemoveButton onClick={handleRemoveAsset}> REMOVE ASSET </RemoveButton>\r\n            <AssetImage src={assetImage} alt=\"\" onDragStart={preventDragHandler}/>\r\n          </ImageContainer>\r\n\r\n          <AssetStatus\r\n            {...(assetStatus === \"Available\"\r\n              ? { isAvailable: true }\r\n              : assetStatus.slice(0, 9) === \"In Use By\"\r\n              ? { isInUse: true }\r\n              : { isQurantined: true })}\r\n          >\r\n            {assetStatus.toUpperCase()}\r\n          </AssetStatus>\r\n\r\n          <ButtonContainer>\r\n            <CustomButton\r\n              isCheckIn\r\n              onClick={handleCheckin}\r\n            >\r\n              CHECK IN\r\n            </CustomButton>\r\n            <CustomButton isCheckOut onClick={handleCheckout}> CHECK OUT </CustomButton>\r\n          </ButtonContainer>\r\n\r\n          <Footer>\r\n            <Instructions> If there are issues with the asset, please fill out the form below and submit </Instructions>\r\n            <ReasonBox id=\"text-area\" onChange={onReasonChange} placeholder={assetComments}/>\r\n            <CustomButton isSubmit onClick={handleQuarantine}> SUBMIT </CustomButton>\r\n          </Footer>\r\n          \r\n        </AssetInnerContainer>\r\n      ) : (\r\n        <AssetInnerContainer>\r\n          <Header>\r\n            <AssetName>Asset Name</AssetName>\r\n            <AssetSerial>Asset Serial</AssetSerial>\r\n          </Header>\r\n\r\n          <ImageContainer>\r\n            <AssetImage src={defaultImg} alt=\"\" onDragStart={preventDragHandler}/>\r\n          </ImageContainer>\r\n          <AssetStatus>Asset Status</AssetStatus>\r\n          <ButtonContainer>\r\n            <CustomButton isCheckIn>CHECK IN</CustomButton>\r\n            <CustomButton isCheckOut>CHECK OUT</CustomButton>\r\n          </ButtonContainer>\r\n\r\n          <Footer>\r\n          <Instructions> If there are issues with the asset, please fill out the form and submit </Instructions>\r\n            <ReasonBox id=\"text-area\" />\r\n            <CustomButton isSubmit>SUBMIT</CustomButton>\r\n            \r\n          </Footer>\r\n        </AssetInnerContainer>\r\n      )}\r\n    </AssetContainer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  ownerId: currentMemberId,\r\n  userId,\r\n  assetId,\r\n  assetName,\r\n  assetImage,\r\n  assetStatus,\r\n  assetSerial,\r\n  assetComments,\r\n  assetModel,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  checkInSelectedAssetStart: (assetData) => {dispatch(checkInSelectedAssetStart({...assetData}));},\r\n  checkOutSelectedAssetStart: (assetData) => {dispatch(checkOutSelectedAssetStart({...assetData}));},\r\n  quarantineSelectedAssetStart: (assetData) => {dispatch(quarantineSelectedAssetStart({...assetData}));},\r\n  requestSelectedAssetData: (assetIdAndOwner) => {dispatch(requestSelectedAssetData(assetIdAndOwner));},\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Center);\r\n"]},"metadata":{},"sourceType":"module"}