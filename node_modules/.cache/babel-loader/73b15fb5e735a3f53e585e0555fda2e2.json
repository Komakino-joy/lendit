{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/alvar/Documents/a_Web_Development_Projects/FINAL_COPIES_OF_PROJECTS/lendit/lendit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(signIn),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(register),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(onSignInStart),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(onRegistrationStart),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(siteMemberSagas);import{all,call,takeLatest,put}from'redux-saga/effects';import{httpRegisterUser,httpSignInUser}from'../../services/api';import SiteMemberActionTypes from'./site-member.types';import{registrationFailure,registrationSuccess,signInFailure,signInSuccess}from'./site-member.actions';export function signIn(_ref){var _ref$payload,email,password,userData;return _regeneratorRuntime.wrap(function signIn$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$payload=_ref.payload,email=_ref$payload.email,password=_ref$payload.password;_context.prev=1;_context.next=4;return httpSignInUser(email,password);case 4:userData=_context.sent;_context.next=7;return put(signInSuccess(userData));case 7:_context.next=15;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);_context.next=13;return call(alert,'Invalid Credentials',_context.t0);case 13:_context.next=15;return put(signInFailure(_context.t0));case 15:;case 16:case\"end\":return _context.stop();}}},_marked,null,[[1,9]]);};export function register(_ref2){var _ref2$payload,fname,lname,email,password;return _regeneratorRuntime.wrap(function register$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref2$payload=_ref2.payload,fname=_ref2$payload.fname,lname=_ref2$payload.lname,email=_ref2$payload.email,password=_ref2$payload.password;_context2.prev=1;_context2.next=4;return httpRegisterUser(fname,lname,email,password);case 4:_context2.next=6;return put(registrationSuccess({email:email,password:password}));case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);_context2.next=12;return put(registrationFailure(_context2.t0));case 12:case\"end\":return _context2.stop();}}},_marked2,null,[[1,8]]);};export function onSignInStart(){return _regeneratorRuntime.wrap(function onSignInStart$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return takeLatest(SiteMemberActionTypes.SIGN_IN_START,signIn);case 2:case\"end\":return _context3.stop();}}},_marked3);};export function onRegistrationStart(){return _regeneratorRuntime.wrap(function onRegistrationStart$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeLatest(SiteMemberActionTypes.REGISTER_START,register);case 2:case\"end\":return _context4.stop();}}},_marked4);};export function siteMemberSagas(){return _regeneratorRuntime.wrap(function siteMemberSagas$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return all([call(onRegistrationStart),call(onSignInStart)]);case 2:case\"end\":return _context5.stop();}}},_marked5);};","map":{"version":3,"sources":["C:/Users/alvar/Documents/a_Web_Development_Projects/FINAL_COPIES_OF_PROJECTS/lendit/lendit/src/redux/site-member/site-member.sagas.js"],"names":["signIn","register","onSignInStart","onRegistrationStart","siteMemberSagas","all","call","takeLatest","put","httpRegisterUser","httpSignInUser","SiteMemberActionTypes","registrationFailure","registrationSuccess","signInFailure","signInSuccess","payload","email","password","userData","alert","fname","lname","SIGN_IN_START","REGISTER_START"],"mappings":"0PAiBiBA,M,iDAUAC,Q,iDASAC,a,iDAIAC,mB,iDAIAC,e,EA5CjB,OAASC,GAAT,CAAcC,IAAd,CAAoBC,UAApB,CAAgCC,GAAhC,KAA4C,oBAA5C,CAEA,OACIC,gBADJ,CAEIC,cAFJ,KAGO,oBAHP,CAKA,MAAOC,CAAAA,qBAAP,KAAkC,qBAAlC,CAEA,OACIC,mBADJ,CAEIC,mBAFJ,CAGIC,aAHJ,CAIIC,aAJJ,KAKO,uBALP,CAQA,MAAO,SAAUf,CAAAA,MAAV,iLAAkBgB,OAAlB,CAA4BC,KAA5B,cAA4BA,KAA5B,CAAmCC,QAAnC,cAAmCA,QAAnC,iCAEkB,MAAMR,CAAAA,cAAc,CAACO,KAAD,CAAQC,QAAR,CAApB,CAFlB,OAEOC,QAFP,+BAGC,MAAMX,CAAAA,GAAG,CAACO,aAAa,CAACI,QAAD,CAAd,CAAT,CAHD,uGAKC,MAAMb,CAAAA,IAAI,CAACc,KAAD,CAAQ,qBAAR,aAAV,CALD,yBAMC,MAAMZ,CAAAA,GAAG,CAACM,aAAa,aAAd,CAAT,CAND,QAOF,CAPE,oEAQN,CAED,MAAO,SAAUb,CAAAA,QAAV,6LAAoBe,OAApB,CAA+BK,KAA/B,eAA+BA,KAA/B,CAAsCC,KAAtC,eAAsCA,KAAtC,CAA6CL,KAA7C,eAA6CA,KAA7C,CAAoDC,QAApD,eAAoDA,QAApD,mCAEC,MAAMT,CAAAA,gBAAgB,CAACY,KAAD,CAAQC,KAAR,CAAeL,KAAf,CAAsBC,QAAtB,CAAtB,CAFD,wBAGC,MAAMV,CAAAA,GAAG,CAACK,mBAAmB,CAAC,CAACI,KAAK,CAALA,KAAD,CAAQC,QAAQ,CAARA,QAAR,CAAD,CAApB,CAAT,CAHD,4GAKC,MAAMV,CAAAA,GAAG,CAACI,mBAAmB,cAApB,CAAT,CALD,sEAON,CAED,MAAO,SAAUV,CAAAA,aAAV,6IACH,MAAMK,CAAAA,UAAU,CAACI,qBAAqB,CAACY,aAAvB,CAAsCvB,MAAtC,CAAhB,CADG,wDAEN,CAED,MAAO,SAAUG,CAAAA,mBAAV,mJACH,MAAMI,CAAAA,UAAU,CAACI,qBAAqB,CAACa,cAAvB,CAAuCvB,QAAvC,CAAhB,CADG,wDAEN,CAED,MAAO,SAAUG,CAAAA,eAAV,+IACH,MAAMC,CAAAA,GAAG,CAAC,CACNC,IAAI,CAACH,mBAAD,CADE,CAENG,IAAI,CAACJ,aAAD,CAFE,CAAD,CAAT,CADG,wDAKN","sourcesContent":["import { all, call, takeLatest, put  } from 'redux-saga/effects';\r\n\r\nimport { \r\n    httpRegisterUser, \r\n    httpSignInUser \r\n} from '../../services/api';\r\n\r\nimport SiteMemberActionTypes from './site-member.types';\r\n\r\nimport {\r\n    registrationFailure,\r\n    registrationSuccess,\r\n    signInFailure,\r\n    signInSuccess, \r\n} from './site-member.actions'\r\n\r\n\r\nexport function* signIn({payload: {email, password}}) {\r\n    try{\r\n        const userData = yield httpSignInUser(email, password);\r\n        yield put(signInSuccess(userData));\r\n    }catch(error){\r\n        yield call(alert, 'Invalid Credentials', error );\r\n        yield put(signInFailure(error));\r\n    };\r\n};\r\n\r\nexport function* register({payload: { fname, lname, email, password }}) {\r\n    try{\r\n        yield httpRegisterUser(fname, lname, email, password);\r\n        yield put(registrationSuccess({email, password})); \r\n    }catch(error){\r\n        yield put(registrationFailure(error));\r\n    } \r\n};\r\n\r\nexport function* onSignInStart() {\r\n    yield takeLatest(SiteMemberActionTypes.SIGN_IN_START, signIn)\r\n};\r\n\r\nexport function* onRegistrationStart() {\r\n    yield takeLatest(SiteMemberActionTypes.REGISTER_START, register)\r\n};\r\n\r\nexport function* siteMemberSagas() {\r\n    yield all([\r\n        call(onRegistrationStart),\r\n        call(onSignInStart),\r\n    ]);\r\n};"]},"metadata":{},"sourceType":"module"}