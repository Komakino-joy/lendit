{"ast":null,"code":"import { all, call, takeLatest, put } from 'redux-saga/effects';\nimport { httpRegisterUser, httpSignInUser } from '../../services/api';\nimport SiteMemberActionTypes from './site-member.types';\nimport { registrationFailure, registrationSuccess, signInFailure, signInSuccess, signInStart } from './site-member.actions';\nexport function* signIn({\n  payload: {\n    email,\n    password\n  }\n}) {\n  console.log();\n\n  try {\n    const user = yield httpSignInUser(email, password);\n    yield put(signInSuccess(user));\n  } catch (error) {\n    yield call(alert, 'Invalid Credentials', error);\n    yield put(signInFailure(error));\n  }\n\n  ;\n}\n;\nexport function* register({\n  payload: {\n    fname,\n    lname,\n    email,\n    password\n  }\n}) {\n  try {\n    yield httpRegisterUser(fname, lname, email, password);\n    yield put(registrationSuccess({\n      email,\n      password\n    }));\n  } catch (error) {\n    yield put(registrationFailure(error));\n  }\n}\n;\nexport function* signInAfterRegistration({\n  payload: {\n    email,\n    password\n  }\n}) {\n  console.log('HELLLLLLLLOOOOOOOOOOOOOODWDWDWDWDWDWDWD', email, password);\n  yield put(signInStart(email, password));\n}\n;\nexport function* onSignInStart() {\n  yield takeLatest(SiteMemberActionTypes.SIGN_IN_START, signIn);\n}\n;\nexport function* onRegistrationStart() {\n  yield takeLatest(SiteMemberActionTypes.REGISTER_START, register);\n}\n;\nexport function* onRegistrationSuccess() {\n  yield takeLatest(SiteMemberActionTypes.REGISTER_SUCCESS, signInAfterRegistration);\n}\n;\nexport function* siteMemberSagas() {\n  yield all([call(onRegistrationStart), call(onSignInStart), call(onRegistrationSuccess)]);\n}\n;","map":{"version":3,"sources":["C:/Users/alvar/Documents/WebDev/lendit/lendit/src/redux/site-member/site-member.sagas.js"],"names":["all","call","takeLatest","put","httpRegisterUser","httpSignInUser","SiteMemberActionTypes","registrationFailure","registrationSuccess","signInFailure","signInSuccess","signInStart","signIn","payload","email","password","console","log","user","error","alert","register","fname","lname","signInAfterRegistration","onSignInStart","SIGN_IN_START","onRegistrationStart","REGISTER_START","onRegistrationSuccess","REGISTER_SUCCESS","siteMemberSagas"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,UAApB,EAAgCC,GAAhC,QAA2C,oBAA3C;AAEA,SACIC,gBADJ,EAEIC,cAFJ,QAGO,oBAHP;AAKA,OAAOC,qBAAP,MAAkC,qBAAlC;AAEA,SACIC,mBADJ,EAEIC,mBAFJ,EAGIC,aAHJ,EAIIC,aAJJ,EAKIC,WALJ,QAMO,uBANP;AASA,OAAO,UAAUC,MAAV,CAAiB;AAACC,EAAAA,OAAO,EAAE;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR;AAAV,CAAjB,EAA+C;AAC9CC,EAAAA,OAAO,CAACC,GAAR;;AACJ,MAAG;AACC,UAAMC,IAAI,GAAG,MAAMb,cAAc,CAACS,KAAD,EAAQC,QAAR,CAAjC;AACA,UAAMZ,GAAG,CAACO,aAAa,CAACQ,IAAD,CAAd,CAAT;AACH,GAHD,CAGC,OAAMC,KAAN,EAAY;AACT,UAAMlB,IAAI,CAACmB,KAAD,EAAQ,qBAAR,EAA+BD,KAA/B,CAAV;AACA,UAAMhB,GAAG,CAACM,aAAa,CAACU,KAAD,CAAd,CAAT;AACH;;AAAA;AACJ;AAAA;AAED,OAAO,UAAUE,QAAV,CAAmB;AAACR,EAAAA,OAAO,EAAE;AAAES,IAAAA,KAAF;AAASC,IAAAA,KAAT;AAAgBT,IAAAA,KAAhB;AAAuBC,IAAAA;AAAvB;AAAV,CAAnB,EAAiE;AACpE,MAAG;AACC,UAAMX,gBAAgB,CAACkB,KAAD,EAAQC,KAAR,EAAeT,KAAf,EAAsBC,QAAtB,CAAtB;AACA,UAAMZ,GAAG,CAACK,mBAAmB,CAAC;AAACM,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAAD,CAApB,CAAT;AACH,GAHD,CAGC,OAAMI,KAAN,EAAY;AACT,UAAMhB,GAAG,CAACI,mBAAmB,CAACY,KAAD,CAApB,CAAT;AACH;AACJ;AAAA;AAED,OAAO,UAAUK,uBAAV,CAAkC;AAACX,EAAAA,OAAO,EAAG;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR;AAAX,CAAlC,EAAgE;AACnEC,EAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDH,KAAvD,EAA8DC,QAA9D;AACA,QAAMZ,GAAG,CAACQ,WAAW,CAACG,KAAD,EAAQC,QAAR,CAAZ,CAAT;AACH;AAAA;AAED,OAAO,UAAUU,aAAV,GAA0B;AAC7B,QAAMvB,UAAU,CAACI,qBAAqB,CAACoB,aAAvB,EAAsCd,MAAtC,CAAhB;AACH;AAAA;AAED,OAAO,UAAUe,mBAAV,GAAgC;AACnC,QAAMzB,UAAU,CAACI,qBAAqB,CAACsB,cAAvB,EAAuCP,QAAvC,CAAhB;AACH;AAAA;AAED,OAAO,UAAUQ,qBAAV,GAAkC;AACrC,QAAM3B,UAAU,CAACI,qBAAqB,CAACwB,gBAAvB,EAAyCN,uBAAzC,CAAhB;AACH;AAAA;AAED,OAAO,UAAUO,eAAV,GAA4B;AAC/B,QAAM/B,GAAG,CAAC,CACNC,IAAI,CAAC0B,mBAAD,CADE,EAEN1B,IAAI,CAACwB,aAAD,CAFE,EAGNxB,IAAI,CAAC4B,qBAAD,CAHE,CAAD,CAAT;AAKH;AAAA","sourcesContent":["import { all, call, takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport { \r\n    httpRegisterUser, \r\n    httpSignInUser \r\n} from '../../services/api';\r\n\r\nimport SiteMemberActionTypes from './site-member.types';\r\n\r\nimport {\r\n    registrationFailure,\r\n    registrationSuccess,\r\n    signInFailure,\r\n    signInSuccess, \r\n    signInStart,\r\n} from './site-member.actions'\r\n\r\n\r\nexport function* signIn({payload: {email, password}}) {\r\n        console.log()\r\n    try{\r\n        const user = yield httpSignInUser(email, password);\r\n        yield put(signInSuccess(user));\r\n    }catch(error){\r\n        yield call(alert, 'Invalid Credentials', error );\r\n        yield put(signInFailure(error));\r\n    };\r\n};\r\n\r\nexport function* register({payload: { fname, lname, email, password }}) {\r\n    try{\r\n        yield httpRegisterUser(fname, lname, email, password);\r\n        yield put(registrationSuccess({email, password})); \r\n    }catch(error){\r\n        yield put(registrationFailure(error));\r\n    } \r\n};\r\n\r\nexport function* signInAfterRegistration({payload : {email, password}}){\r\n    console.log('HELLLLLLLLOOOOOOOOOOOOOODWDWDWDWDWDWDWD', email, password)\r\n    yield put(signInStart(email, password));\r\n};  \r\n\r\nexport function* onSignInStart() {\r\n    yield takeLatest(SiteMemberActionTypes.SIGN_IN_START, signIn)\r\n};\r\n\r\nexport function* onRegistrationStart() {\r\n    yield takeLatest(SiteMemberActionTypes.REGISTER_START, register)\r\n};\r\n\r\nexport function* onRegistrationSuccess() {\r\n    yield takeLatest(SiteMemberActionTypes.REGISTER_SUCCESS, signInAfterRegistration);\r\n};\r\n\r\nexport function* siteMemberSagas() {\r\n    yield all([\r\n        call(onRegistrationStart),\r\n        call(onSignInStart),\r\n        call(onRegistrationSuccess),\r\n    ]);\r\n};"]},"metadata":{},"sourceType":"module"}