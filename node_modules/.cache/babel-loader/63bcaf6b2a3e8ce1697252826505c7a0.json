{"ast":null,"code":"import _objectSpread from\"C:/Users/alvar/Documents/WebDev/lendit/lendit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import{connect}from\"react-redux\";import{createStructuredSelector}from\"reselect\";import{checkInSelectedAssetStart,requestSelectedAssetData,checkOutSelectedAssetStart,quarantineSelectedAssetStart}from\"../../redux/asset/asset.actions\";import{userId}from\"../../redux/user/user.selectors\";import{currentMemberId}from\"../../redux/site-member/site-member.selectors.js\";import{assetId,assetName,assetSerial,assetImage,assetComments,assetStatus,assetModel}from\"../../redux/asset/asset.selectors\";import{useAlert}from\"react-alert\";import{confirmAlert}from\"react-confirm-alert\";import{assetTransaction}from\"./center.utils\";import{removeAsset}from\"../../services/api\";import defaultImg from\"../../images/default.svg\";import CustomButton from\"../custom-button/custom-button.component\";import{CenterPanelContainer,CenterPanelInnerContainer,Header,AssetName,AssetSerial,RemoveButton,ImageContainer,AssetImage,AssetStatus,ButtonContainer,Footer,Instructions,ReasonBox}from\"./center.styles.jsx\";import\"react-confirm-alert/src/react-confirm-alert.css\";var Center=function Center(_ref){var assetId=_ref.assetId,assetName=_ref.assetName,assetSerial=_ref.assetSerial,assetImage=_ref.assetImage,assetStatus=_ref.assetStatus,checkInAsset=_ref.checkInAsset,getUpdatedStatus=_ref.getUpdatedStatus,checkOutAsset=_ref.checkOutAsset,quarantineAsset=_ref.quarantineAsset,userId=_ref.userId,assetComments=_ref.assetComments,ownerId=_ref.ownerId,assetModel=_ref.assetModel;var alert=useAlert();// Prevents the user from dragging the asset image.\nvar preventDragHandler=function preventDragHandler(event){event.preventDefault();};var onReasonChange=function onReasonChange(event){assetComments=event.target.value;};var handleCheckout=function handleCheckout(){if(assetStatus.slice(0,9)===\"In Use By\"){alert.show(\"\".concat(assetName,\" is \").concat(assetStatus),{type:\"info\"});}else if(!userId){alert.show(\"Username is required for checkout\",{type:\"info\"});document.getElementById(\"user-list\").focus();}else{assetTransaction(checkOutAsset,function(){return getUpdatedStatus(assetId,ownerId);},assetId,userId,ownerId,assetName,assetSerial,assetModel);document.getElementById(\"asset-list\").focus();}};var handleCheckin=function handleCheckin(){if(assetStatus!==\"Available\"){assetTransaction(checkInAsset,function(){return getUpdatedStatus(assetId,ownerId);},assetId,userId,ownerId,assetName,assetSerial,assetModel);}else{alert.show(\"\".concat(assetName,\" is already checked in.\"),{type:\"info\"});}};var handleQuarantine=function handleQuarantine(){if(assetStatus===\"Quarantine\"){alert.show(\"\".concat(assetName,\" is already in quarantine.\"),{type:\"info\"});}else if(!assetComments){alert.show(\"Reason is required to check \".concat(assetName,\" into quarantine.\"),{type:\"info\"});document.getElementById(\"text-area\").focus();}else if(!userId){alert.show(\"Username is required for quarantine\",{type:\"info\"});document.getElementById(\"user-list\").focus();}else{assetTransaction(quarantineAsset,function(){return getUpdatedStatus(assetId,ownerId);},assetId,userId,ownerId,assetName,assetSerial,assetModel,assetComments);document.getElementById(\"text-area\").value=\"\";}};var handleRemoveAsset=function handleRemoveAsset(){confirmAlert({title:\"Confirm Delete\",message:\"Are you sure to delete \".concat(assetName.toUpperCase(),\" ?\"),buttons:[{label:\"Yes\",onClick:function onClick(){removeAsset(assetId);alert.show(\"\".concat(assetName,\" has been removed.\"),{type:\"success\"});}},{label:\"No\",onClick:function onClick(){return alert.show(\"Operation Cancelled\");}}]});};return/*#__PURE__*/_jsx(CenterPanelContainer,{children:assetId?/*#__PURE__*/_jsxs(CenterPanelInnerContainer,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(AssetName,{children:assetName.toUpperCase()}),/*#__PURE__*/_jsx(AssetSerial,{children:assetSerial.toUpperCase()})]}),/*#__PURE__*/_jsxs(ImageContainer,{children:[/*#__PURE__*/_jsx(RemoveButton,{onClick:handleRemoveAsset,children:\" REMOVE ASSET \"}),/*#__PURE__*/_jsx(AssetImage,{src:assetImage,alt:\"\",onDragStart:preventDragHandler})]}),/*#__PURE__*/_jsx(AssetStatus,_objectSpread(_objectSpread({},assetStatus===\"Available\"?{isAvailable:true}:assetStatus.slice(0,9)===\"In Use By\"?{isInUse:true}:{isQurantined:true}),{},{children:assetStatus.toUpperCase()})),/*#__PURE__*/_jsxs(ButtonContainer,{children:[/*#__PURE__*/_jsx(CustomButton,{isCheckIn:true,onClick:handleCheckin,children:\"CHECK IN\"}),/*#__PURE__*/_jsx(CustomButton,{isCheckOut:true,onClick:handleCheckout,children:\" CHECK OUT \"})]}),/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsx(Instructions,{children:\" If there are issues with the asset, please fill out the form below and submit \"}),/*#__PURE__*/_jsx(ReasonBox,{id:\"text-area\",onChange:onReasonChange,placeholder:assetComments}),/*#__PURE__*/_jsx(CustomButton,{isSubmit:true,onClick:handleQuarantine,children:\" SUBMIT \"})]})]}):/*#__PURE__*/_jsxs(CenterPanelInnerContainer,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(AssetName,{children:\"Asset Name\"}),/*#__PURE__*/_jsx(AssetSerial,{children:\"Asset Serial\"})]}),/*#__PURE__*/_jsx(ImageContainer,{children:/*#__PURE__*/_jsx(AssetImage,{src:defaultImg,alt:\"\",onDragStart:preventDragHandler})}),/*#__PURE__*/_jsx(AssetStatus,{children:\"Asset Status\"}),/*#__PURE__*/_jsxs(ButtonContainer,{children:[/*#__PURE__*/_jsx(CustomButton,{isCheckIn:true,children:\"CHECK IN\"}),/*#__PURE__*/_jsx(CustomButton,{isCheckOut:true,children:\"CHECK OUT\"})]}),/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsx(Instructions,{children:\" If there are issues with the asset, please fill out the form and submit \"}),/*#__PURE__*/_jsx(ReasonBox,{id:\"text-area\"}),/*#__PURE__*/_jsx(CustomButton,{isSubmit:true,children:\"SUBMIT\"})]})]})});};var mapStateToProps=createStructuredSelector({ownerId:currentMemberId,userId:userId,assetId:assetId,assetName:assetName,assetImage:assetImage,assetStatus:assetStatus,assetSerial:assetSerial,assetComments:assetComments,assetModel:assetModel});var mapDispatchToProps=function mapDispatchToProps(dispatch){return{checkInAsset:function checkInAsset(assetId,userId,ownerId,name,serial,model){dispatch(checkInSelectedAssetStart(assetId,userId,ownerId,name,serial,model));},checkOutAsset:function checkOutAsset(assetId,userId,ownerId,name,serial,model){dispatch(checkOutSelectedAssetStart(assetId,userId,ownerId,name,serial,model));},quarantineAsset:function quarantineAsset(assetId,userId,ownerId,name,serial,model,comment){dispatch(quarantineSelectedAssetStart(assetId,userId,ownerId,name,serial,model,comment));},getUpdatedStatus:function getUpdatedStatus(assetId,ownerID){dispatch(requestSelectedAssetData(assetId,ownerID));}};};export default connect(mapStateToProps,mapDispatchToProps)(Center);","map":{"version":3,"sources":["C:/Users/alvar/Documents/WebDev/lendit/lendit/src/components/center/center.component.jsx"],"names":["React","connect","createStructuredSelector","checkInSelectedAssetStart","requestSelectedAssetData","checkOutSelectedAssetStart","quarantineSelectedAssetStart","userId","currentMemberId","assetId","assetName","assetSerial","assetImage","assetComments","assetStatus","assetModel","useAlert","confirmAlert","assetTransaction","removeAsset","CustomButton","CenterPanelContainer","CenterPanelInnerContainer","Header","AssetName","AssetSerial","RemoveButton","ImageContainer","AssetImage","AssetStatus","ButtonContainer","Footer","Instructions","ReasonBox","Center","checkInAsset","getUpdatedStatus","checkOutAsset","quarantineAsset","ownerId","alert","preventDragHandler","event","preventDefault","onReasonChange","target","value","handleCheckout","slice","show","type","document","getElementById","focus","handleCheckin","handleQuarantine","handleRemoveAsset","title","message","toUpperCase","buttons","label","onClick","isAvailable","isInUse","isQurantined","defaultImg","mapStateToProps","mapDispatchToProps","dispatch","name","serial","model","comment","ownerID"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\n\r\nimport { \r\n  checkInSelectedAssetStart, \r\n  requestSelectedAssetData, \r\n  checkOutSelectedAssetStart, \r\n  quarantineSelectedAssetStart \r\n} from \"../../redux/asset/asset.actions\";\r\n\r\nimport { userId } from \"../../redux/user/user.selectors\";\r\nimport { currentMemberId } from \"../../redux/site-member/site-member.selectors.js\";\r\nimport { assetId, assetName, assetSerial, assetImage, assetComments, assetStatus, assetModel } from \"../../redux/asset/asset.selectors\";\r\n\r\nimport { useAlert } from \"react-alert\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\n\r\nimport { assetTransaction } from \"./center.utils\";\r\nimport { removeAsset } from \"../../services/api\";\r\n\r\nimport defaultImg from \"../../images/default.svg\";\r\nimport CustomButton from \"../custom-button/custom-button.component\";\r\nimport {\r\n  CenterPanelContainer, CenterPanelInnerContainer, Header, AssetName, AssetSerial, RemoveButton,\r\n  ImageContainer, AssetImage, AssetStatus, ButtonContainer, Footer, Instructions, ReasonBox,\r\n} from \"./center.styles.jsx\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\n\r\nconst Center = ({assetId, assetName, assetSerial, assetImage, assetStatus, checkInAsset, getUpdatedStatus,\r\n  checkOutAsset, quarantineAsset, userId, assetComments, ownerId, assetModel}) => {\r\n\r\n  const alert = useAlert();\r\n\r\n  // Prevents the user from dragging the asset image.\r\n  const preventDragHandler = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const onReasonChange = (event) => {\r\n    assetComments = event.target.value;\r\n  };\r\n\r\n  const handleCheckout = () => {\r\n\r\n    if (assetStatus.slice(0, 9) === \"In Use By\") {\r\n      alert.show(`${assetName} is ${assetStatus}`, { type: \"info\" });\r\n    } else if (!userId) {\r\n      alert.show(`Username is required for checkout`, { type: \"info\" });\r\n      document.getElementById(\"user-list\").focus();\r\n    } else {\r\n      assetTransaction(\r\n        checkOutAsset,\r\n        () => getUpdatedStatus(assetId, ownerId),\r\n        assetId,\r\n        userId,\r\n        ownerId,\r\n        assetName,\r\n        assetSerial,\r\n        assetModel\r\n      );\r\n      document.getElementById(\"asset-list\").focus();\r\n    }\r\n  };\r\n\r\n  const handleCheckin = () => {\r\n    if (assetStatus !== \"Available\"){\r\n      assetTransaction(\r\n        checkInAsset,\r\n        () => getUpdatedStatus(assetId, ownerId),\r\n        assetId,\r\n        userId,\r\n        ownerId,\r\n        assetName,\r\n        assetSerial,\r\n        assetModel\r\n      )\r\n    }else{\r\n      alert.show(`${assetName} is already checked in.`, { type: \"info\" });\r\n    } \r\n  };\r\n\r\n\r\n  const handleQuarantine = () => {\r\n    if (assetStatus === \"Quarantine\") {\r\n      alert.show(`${assetName} is already in quarantine.`, { type: \"info\" });\r\n    } else if (!assetComments) {\r\n      alert.show(`Reason is required to check ${assetName} into quarantine.`, {\r\n        type: \"info\",\r\n      });\r\n      document.getElementById(\"text-area\").focus();\r\n    } else if (!userId) {\r\n      alert.show(`Username is required for quarantine`, { type: \"info\" });\r\n      document.getElementById(\"user-list\").focus();\r\n    } else {\r\n      assetTransaction(\r\n        quarantineAsset,\r\n        () => getUpdatedStatus(assetId, ownerId),\r\n        assetId,\r\n        userId,\r\n        ownerId,\r\n        assetName,\r\n        assetSerial,\r\n        assetModel,\r\n        assetComments\r\n      );\r\n      document.getElementById(\"text-area\").value = \"\";\r\n    }\r\n  };\r\n\r\n  const handleRemoveAsset = () => {\r\n    confirmAlert({\r\n      title: \"Confirm Delete\",\r\n      message: `Are you sure to delete ${assetName.toUpperCase()} ?`,\r\n      buttons: [\r\n        {\r\n          label: \"Yes\",\r\n          onClick: () => {\r\n            removeAsset(assetId);\r\n            alert.show(`${assetName} has been removed.`, { type: \"success\" });\r\n          },\r\n        },\r\n        {\r\n          label: \"No\",\r\n          onClick: () => alert.show(\"Operation Cancelled\"),\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <CenterPanelContainer>\r\n      \r\n      {assetId ? (\r\n        <CenterPanelInnerContainer>\r\n          \r\n          <Header>\r\n            <AssetName>{assetName.toUpperCase()}</AssetName>\r\n            <AssetSerial>{assetSerial.toUpperCase()}</AssetSerial>\r\n          </Header>\r\n\r\n          <ImageContainer>\r\n            <RemoveButton onClick={handleRemoveAsset}> REMOVE ASSET </RemoveButton>\r\n            <AssetImage src={assetImage} alt=\"\" onDragStart={preventDragHandler}/>\r\n          </ImageContainer>\r\n\r\n          <AssetStatus\r\n            {...(assetStatus === \"Available\"\r\n              ? { isAvailable: true }\r\n              : assetStatus.slice(0, 9) === \"In Use By\"\r\n              ? { isInUse: true }\r\n              : { isQurantined: true })}\r\n          >\r\n            {assetStatus.toUpperCase()}\r\n          </AssetStatus>\r\n\r\n          <ButtonContainer>\r\n            <CustomButton\r\n              isCheckIn\r\n              onClick={handleCheckin}\r\n            >\r\n              CHECK IN\r\n            </CustomButton>\r\n            <CustomButton isCheckOut onClick={handleCheckout}> CHECK OUT </CustomButton>\r\n          </ButtonContainer>\r\n\r\n          <Footer>\r\n            <Instructions> If there are issues with the asset, please fill out the form below and submit </Instructions>\r\n            <ReasonBox id=\"text-area\" onChange={onReasonChange} placeholder={assetComments}/>\r\n            <CustomButton isSubmit onClick={handleQuarantine}> SUBMIT </CustomButton>\r\n          </Footer>\r\n          \r\n        </CenterPanelInnerContainer>\r\n      ) : (\r\n        <CenterPanelInnerContainer>\r\n          <Header>\r\n            <AssetName>Asset Name</AssetName>\r\n            <AssetSerial>Asset Serial</AssetSerial>\r\n          </Header>\r\n\r\n          <ImageContainer>\r\n            <AssetImage src={defaultImg} alt=\"\" onDragStart={preventDragHandler}/>\r\n          </ImageContainer>\r\n          <AssetStatus>Asset Status</AssetStatus>\r\n          <ButtonContainer>\r\n            <CustomButton isCheckIn>CHECK IN</CustomButton>\r\n            <CustomButton isCheckOut>CHECK OUT</CustomButton>\r\n          </ButtonContainer>\r\n\r\n          <Footer>\r\n          <Instructions> If there are issues with the asset, please fill out the form and submit </Instructions>\r\n            <ReasonBox id=\"text-area\" />\r\n            <CustomButton isSubmit>SUBMIT</CustomButton>\r\n            \r\n          </Footer>\r\n        </CenterPanelInnerContainer>\r\n      )}\r\n    </CenterPanelContainer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  ownerId: currentMemberId,\r\n  userId,\r\n  assetId,\r\n  assetName,\r\n  assetImage,\r\n  assetStatus,\r\n  assetSerial,\r\n  assetComments,\r\n  assetModel,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  checkInAsset: (assetId, userId, ownerId, name, serial, model) => {\r\n    dispatch(checkInSelectedAssetStart(assetId, userId, ownerId, name, serial, model));\r\n  },\r\n  checkOutAsset: (assetId, userId, ownerId, name, serial, model) => {\r\n    dispatch(checkOutSelectedAssetStart(assetId, userId, ownerId, name, serial, model));\r\n  },\r\n  quarantineAsset: (assetId, userId, ownerId, name, serial, model, comment) => {\r\n    dispatch(quarantineSelectedAssetStart(assetId, userId, ownerId, name, serial, model,comment));\r\n  },\r\n  getUpdatedStatus: (assetId, ownerID) => {\r\n    dispatch(requestSelectedAssetData(assetId, ownerID));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Center);\r\n"]},"metadata":{},"sourceType":"module"}